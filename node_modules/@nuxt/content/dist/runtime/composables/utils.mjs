import { withBase } from "ufo";
import { useRuntimeConfig, useRequestEvent } from "#app";
import { unwrap, flatUnwrap } from "../markdown-parser/utils/node.mjs";
export const withContentBase = (url) => withBase(url, "/api/" + useRuntimeConfig().public.content.base);
export const useUnwrap = () => ({
  unwrap,
  flatUnwrap
});
export const useContentDisabled = () => {
  console.warn("useContent is only accessible when you are using `documentDriven` mode.");
  console.warn("Learn more by visiting: https://content.nuxtjs.org/guide/writing/document-driven");
  throw new Error("useContent is only accessible when you are using `documentDriven` mode.");
};
export const addPrerenderPath = (path) => {
  const event = useRequestEvent();
  event.res.setHeader(
    "x-nitro-prerender",
    [
      event.res.getHeader("x-nitro-prerender"),
      path
    ].filter(Boolean).join(",")
  );
};
